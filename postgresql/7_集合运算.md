# 表的加减法
**`集合`：在数据库中指记录的集合，表、视图和查询的执行结果都是记录的集合。**

## `UNION`：并集
> 创建需要的表Product2
```sql
CREATE TABLE Product2
(product_id      CHAR(4)      NOT NULL,
 product_name    VARCHAR(100) NOT NULL,
 product_type    VARCHAR(32)  NOT NULL,
 sale_price      INTEGER      ,
 purchase_price  INTEGER      ,
 regist_date      DATE         ,
 PRIMARY KEY (product_id));
 
BEGIN TRANSACTION;
INSERT INTO Product2 VALUES ('0001', 'T恤', '衣服', 1000, 500, '2009-09-20');
INSERT INTO Product2 VALUES ('0002', '打孔器', '办公用品', 500, 320, '2009-09-11');
INSERT INTO Product2 VALUES ('0003', '运动T恤', '衣服', 4000, 2800, NULL);
INSERT INTO Product2 VALUES ('0009', '手套', '衣服', 800, 500, NULL);
INSERT INTO Product2 VALUES ('0010', '水壶', '厨房用具', 2000, 1700, '2009-09-20');
COMMIT;
```

> `UNION`：并集
```sql
SELECT product_id, product_name
  FROM Product
UNION
SELECT product_id, product_name
  FROM Product2;
```
* 列数必须相同，列类型必须一致 :question:这不得列名一致吗？？
* 通常会去除重复的数据

> 可以使用任何SELECT语句，但ORDER BY只在最后使用一次
```sql
SELECT product_id, product_name
  FROM Product
  WHERE product_type = '厨房用具'
UNION
SELECT product_id, product_name
  FROM Product2
  WHERE product_type = '厨房用具'
ORDER BY product_id;
```

> 保留重复行的`ALL`选项
```sql
SELECT product_id, product_name
  FROM Product
UNION ALL
SELECT product_id, product_name
  FROM Product2;
```

## `INTERSECT`：交集
> `INTERSECT`
```sql
SELECT product_id, product_name
  FROM Product
INTERSECT
SELECT product_id, product_name
  FROM Product2
ORDER BY product_id;
```
* MySQL不支持`INTERSECT`
* 保留重复行时也使用`INTERSECT ALL`

## `EXCEPT`：差集（有顺序）
> `EXCEPT`
```sql
--从Product的记录中删除Product2的记录
SELECT product_id, product_name
  FROM Product
EXCEPT
SELECT product_id, product_name
  FROM Product2
ORDER BY product_id;

--从Product2的记录中删除Product的记录
SELECT product_id, product_name
  FROM Product2
EXCEPT
SELECT product_id, product_name
  FROM Product
ORDER BY product_id;
```
* MySQL不支持`EXCEPT`

# 联结

## `UNION`：并集
> `UNION`：并集
```sql

```

## `UNION`：并集
> `UNION`：并集
```sql

```






















































